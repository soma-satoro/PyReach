{% extends "website/base.html" %}
{% load static %}

{% block title %}Characters{% endblock %}

{% block content %}
<div class="section-header">
    <h1 class="section-title"><i class="fas fa-users"></i> Characters</h1>
    <p class="section-subtitle">Browse the denizens of {{ game_name }}</p>
</div>

{% if object_list %}
<div class="character-grid">
    {% for character in object_list %}
    <div class="character-card">
        <div class="character-name">
            <a href="{{ character.web_get_detail_url }}" style="text-decoration: none; color: var(--color-accent-gold);">
                {{ character.db_key }}
            </a>
        </div>
        {% if character.db.desc %}
        <div class="character-desc">
            {{ character.db.desc|truncatewords:30 }}
        </div>
        {% endif %}
        {% if character.db.stats.bio.concept %}
        <div style="margin-top: 0.5rem;">
            <span class="badge badge-primary">{{ character.db.stats.bio.concept }}</span>
        </div>
        {% endif %}
        <div class="card-footer" style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--color-border); display: flex; justify-content: space-between; align-items: center;">
            <small class="text-muted">
                {% if character.account %}
                <i class="fas fa-user"></i> {{ character.account.username }}
                {% else %}
                <i class="fas fa-robot"></i> NPC
                {% endif %}
            </small>
            <a href="{{ character.web_get_detail_url }}" class="btn btn-sm btn-secondary">
                <i class="fas fa-eye"></i> View
            </a>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <i class="fas fa-users-slash empty-state-icon"></i>
    <h3>No Characters Yet</h3>
    <p>Be the first to create a character in {{ game_name }}!</p>
    {% if account %}
    <a href="/webclient/" class="btn btn-primary" style="margin-top: 1rem;">
        <i class="fas fa-play"></i> Create Your Character
    </a>
    {% endif %}
</div>
{% endif %}

{% if account %}
<div class="action-section" style="margin-top: 3rem;">
    <h3><i class="fas fa-user-plus"></i> Ready to Join?</h3>
    <p style="margin-top: 1rem;">Connect to the game to create your character and begin your story.</p>
    <a href="/webclient/" class="btn btn-primary btn-lg" style="margin-top: 1rem;">
        <i class="fas fa-play"></i> Enter the Game
    </a>
</div>
{% endif %}
{% endblock %}

